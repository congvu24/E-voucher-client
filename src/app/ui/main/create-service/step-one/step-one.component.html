<div class="flex">
  <!-- left -->
  <div class="">
    <nz-upload
      class="avatar-uploader"
      nzAction="https://www.mocky.io/v2/5cc8019d300000980a055e76"
      nzName="avatar"
      nzListType="picture-card"
      [nzShowUploadList]="false"
      [nzBeforeUpload]="beforeUpload"
      (nzChange)="handleChange($event)"
    >
      <ng-container *ngIf="!avatarUrl">
        <ng-container *ngIf="loading; else elseTemplate">
          <i class="upload-icon" nz-icon [nzType]="'loading'"></i>
        </ng-container>
        <ng-template #elseTemplate>
          <i class="mr-1" nz-icon [nzType]="'plus'"></i>image
        </ng-template>
      </ng-container>
      <img *ngIf="avatarUrl" [src]="avatarUrl" style="width: 100%" />
    </nz-upload>
  </div>

  <!-- right -->
  <div class="bg-white p-3 mb-3" >
    <form
      nz-form
      [formGroup]="packageForm"
      [nzLayout]="'vertical'"
      (ngSubmit)="submitForm()"
    >
      <nz-form-item>
        <nz-form-label nzRequired  >Service name</nz-form-label>
        <nz-form-control nzHasFeedback nzValidatingTip="Validating..." nzErrorTip="Length must be > 4">
          <input nz-input formControlName="name" placeholder="Service name" />
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-label nzRequired>Description</nz-form-label>
        <nz-form-control nzHasFeedback nzValidatingTip="Validating..." nzErrorTip="Length must be > 4">
          <input
            nz-input
            formControlName="description"
            placeholder="Description"
          />
        </nz-form-control>
      </nz-form-item>
      <div nz-row nzGutter="8">
        <div nz-col nzSpan="6">
          <nz-form-item>
            <nz-form-label nzRequired>Min</nz-form-label>
            <nz-form-control nzHasFeedback  [nzErrorTip]="minErrorTpl" nzValidatingTip="Validating...">
              <input nz-input type="number" formControlName="min" placeholder="in USD" />
              <ng-template #minErrorTpl let-control>
                <ng-container *ngIf="packageForm.errors?.['invalidMaxValue'] && (packageForm.touched || packageForm.dirty)">Max can't smaller than Min</ng-container>
              </ng-template>
    
            </nz-form-control>
          </nz-form-item>
        </div>
        <div nz-col nzSpan="6">
          <nz-form-item>
            <nz-form-label nzRequired>Max</nz-form-label>
            <nz-form-control nzHasFeedback [nzErrorTip]="maxErrorTpl" nzValidatingTip="Validating...">
              <input nz-input type="number" formControlName="max" placeholder="in USD" />
              <ng-template #maxErrorTpl let-control>
                <ng-container *ngIf="packageForm.errors?.['invalidMaxValue'] && (packageForm.touched || packageForm.dirty)">Max can't smaller than Min</ng-container>
              </ng-template>
    
            </nz-form-control>
          </nz-form-item>
        </div>
      </div>
      <button nz-button nzType="primary">Check</button>
    </form>
  </div>
</div>
